---
title: Overview
level1: Documents
level2: Consumer Experience
level3: Connector API
level4: Webhooks
order: 11
indicator: both
permalink: webhooks-overview.html
---

### Introduction

The "WebHooks" (WH) is a mechanism which allows LiveEngage applications to register for notifications on LivePerson (LP) events. Its purpose is  continuously consume (read) LP events, filter only those events which are "of interest" and make sure they get sent to the pre-configured endpoint of the LiveEnage application. Examples of relevant LiveEngage applications that would be interested in such notifications would be “Connectors”, such as the "Facebook" connector, the "LINE" connector, SMS connectors (all developed by LP R&D) or any brand-developed bot implementation.

The registration of webhooks for you account is done by App Installation process [link to app-installation section documentation - written by Eden / Yaniv / Stefan] (TBD - documentation). In this process the you will have to supply your account manager a manifest of the App. The manifest should contain the “webhook capability” (see details below). In return you will get from the account manager client_id and client_secret that will let you identify and authenticate the webhooks calls.

### Protocol

* The WH notifications are sent as (REST) POST requests in the HTTP protocol over SSL only (HTTPS). Therefore, the application endpoint is required to be setup with a valid web-server SSL certificate.

* Each WH notification request includes LivePerson standard headers which have the header name prefix of “**x-liveperson-**”:
  * **x-liveperson-account-id**: The unique LivePerson account identifier
  * **x-liveperson-client-id**: The unique client application identifier  
  * **x-liveperson-signature**: A token generated by signing the payload using the client-secret  

* The application endpoint is expected to immediately respond to each a notification request. A response delay of over 10 seconds will lead to a WH (client-side) timeout of that notification request.

* The application endpoint is expected to respond with either a 200 or 201 response code to each a notification request. Any other response code will be considered as a notification request failure.

### Authentication

Each webhook call will contain the following authentication headers:
  * **x-liveperson-account-id**: Can be used to differentiate registration of different account, when the same url is used for multiple accounts.
  * **x-liveperson-client-id**: The client_id that you get from your account manager after the webhooks registration process.
  * **x-liveperson-signature**: A SHA1 signature of the payload and the **client_secret** (given by your account manager in the webhook registration process) preceded with “sha1=”. Here is an example how to calculate this signature in Java:


{
  Mac mac = Mac.getInstance("HmacSHAl"); 
  mac.init(**new** SecretKeySpec(
        "THE_CLIENT_SECRET".getBytes(MUTF-8"),
        "HmacSHAl"));
        System.out.println(Base64.getEncoder().encode(mac.doFinal("message payload".getBytes(“UTF-8“))))
}

### Retry Policy

* Upon its registration to the WH service, an application can be configured to require a “retry send” of failed notification requests.

* It is possible to choose between 0 to 5 retries (the default is: 0, meaning “no retires”).

* The interval between retries is 30 seconds.

### Disclaimers

  * Applications should consider that **data (event) loss is possible**. For example, when a failed notification request is retried, once the retry policy is exhausted - e.g. all the retry attempts fail, the event will be dropped.    

  * Applications should consider that **events order is on best effort basis** - e.g. it is not guaranteed. For example, if a request notification of a certain event failed the first time and was only delivered successfully after one or more retries, then it is possible that a subsequent event will be delivered before.  

  * Applications should consider that as long as the retry policy is not exhausted, then **events are guaranteed to be sent at least once** - e.g. event duplication is possible. For example, if a notification request was received at the application endpoint but the response for that request was sent after more than 10 seconds, then in such a case the WH will consider that notification request as failed and will apply the configured retry policy on that notification - resulting in the same event being sent more than once.   
